import{a as nt,b as ot}from"./chunk-72DMTITS.js";import{a as u}from"./chunk-2IB3FQZ5.js";import{K as b,R as et,T as it,c as Z,d as H,e as X,f as W,h as q,i as g,j as J,k as K,l as Q,m as $,n as tt}from"./chunk-TKBHC6Y7.js";import{d as G,m as U,o as Y}from"./chunk-GA3PLTZT.js";import{$a as D,Da as E,Gb as p,Hb as z,Lb as C,Sa as L,Va as F,W as A,Z as M,Za as d,_ as O,_a as T,cb as N,ea as s,ha as f,hb as v,ia as P,jb as m,la as I,ma as w,ob as l,pb as a,qb as j,r as k,sb as B,ta as S,ua as R,vb as V,wb as y}from"./chunk-GBCURD4M.js";var rt=(i,t)=>{let e=s(g);return s(u).isAuthenticatedUser().pipe(k(o=>!!(o&&localStorage.getItem("authToken"))))};var x=(i,t)=>!s(u).isAuthenticated;var at=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-JCSEYBXY.js").then(i=>i.HomeComponent)},{path:"contacts",canActivate:[rt],loadComponent:()=>import("./chunk-EMYO5I5L.js").then(i=>i.ContactsComponent)},{path:"login",canActivate:[x],loadComponent:()=>import("./chunk-G4RTNEIU.js").then(i=>i.LoginComponent)},{path:"register",canActivate:[x],loadComponent:()=>import("./chunk-7PINW3KX.js").then(i=>i.RegisterComponent)}];var ut="@",ht=(()=>{let t=class t{constructor(n,o,r,c,h){this.doc=n,this.delegate=o,this.zone=r,this.animationType=c,this.moduleImpl=h,this._rendererFactoryPromise=null,this.scheduler=s(L,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-Y7WJHPMT.js")).catch(o=>{throw new A(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:r})=>{this._engine=o(this.animationType,this.doc,this.scheduler);let c=new r(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(n,o){let r=this.delegate.createRenderer(n,o);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let c=new _(r);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(h=>{let mt=h.createRenderer(n,o);c.use(mt)}).catch(h=>{c.use(r)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(o){D()},t.\u0275prov=M({token:t,factory:t.\u0275fac});let i=t;return i})(),_=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,o){this.delegate.insertBefore(t,e,n,o)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,o){this.delegate.setAttribute(t,e,n,o)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,o){this.delegate.setStyle(t,e,n,o)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(o=>o.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.shouldReplay(e)&&this.replay.push(o=>o.listen(t,e,n)),this.delegate.listen(t,e,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(ut)}};function lt(i="animations"){return S([{provide:F,useFactory:(t,e,n)=>new ht(t,e,n,i),deps:[G,H,N]},{provide:E,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ct={providers:[Q(at,$()),W(),R(Z),lt()]};var dt=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=P({type:t}),t.\u0275inj=O({imports:[b,b]});let i=t;return i})();function gt(i,t){i&1&&(l(0,"a",10),p(1,"Contacts"),a())}function ft(i,t){i&1&&(l(0,"a",11),p(1,"Login"),a())}function vt(i,t){i&1&&(l(0,"a",12),p(1,"Register"),a())}function yt(i,t){if(i&1&&(l(0,"p",13),p(1),a()),i&2){let e=y();d(),z(e.userEmail)}}function Ct(i,t){if(i&1){let e=B();l(0,"button",14),V("click",function(){I(e);let o=y();return w(o.logOut())}),l(1,"mat-icon",15),p(2,"logout"),a()()}}var pt=(()=>{let t=class t{constructor(n){this.isAuth=n,this.title="phonebook",this.userEmail="",this.route=s(g)}logOut(){console.log(this.isAuth.isAuthenticated),this.isAuth.logout(),this.route.navigateByUrl("/login")}refresh(){this.isAuth.refresh()}ngOnInit(){localStorage.getItem("authToken")!==null&&(this.isAuth.isAuthenticated=!0,this.isAuth.refresh().subscribe({next:n=>{},error:n=>{n&&this.logOut()}})),localStorage.getItem("user")!==null&&(this.userEmail=localStorage.getItem("user"))}};t.\u0275fac=function(o){return new(o||t)(T(u))},t.\u0275cmp=f({type:t,selectors:[["app-root"]],standalone:!0,features:[C],decls:14,vars:5,consts:[[1,"main-container"],[1,"head_nav"],["mat-mini-fab","","color","accent","routerLink","/home","title","home",1,"homeLink"],[1,"mat-icon-sm","customIconSize"],["routerLink","/contacts","class","contact-link","routerLinkActive","active-link",4,"ngIf"],[1,"auth-bnt-wrapper"],["routerLink","/login","class","auth-link","routerLinkActive","active-link",4,"ngIf"],["routerLink","/register","class","auth-link","routerLinkActive","active-link",4,"ngIf"],["class","user-email",4,"ngIf"],["type","button","class","logOut-btn","title","log out","aria-label","log out button",3,"click",4,"ngIf"],["routerLink","/contacts","routerLinkActive","active-link",1,"contact-link"],["routerLink","/login","routerLinkActive","active-link",1,"auth-link"],["routerLink","/register","routerLinkActive","active-link",1,"auth-link"],[1,"user-email"],["type","button","title","log out","aria-label","log out button",1,"logOut-btn",3,"click"],[1,"mat-icon-sm","logOutIcon"]],template:function(o,r){o&1&&(l(0,"div",0)(1,"header")(2,"nav",1)(3,"div")(4,"a",2)(5,"mat-icon",3),p(6,"home"),a()(),v(7,gt,2,0,"a",4),a(),l(8,"div",5),v(9,ft,2,0,"a",6)(10,vt,2,0,"a",7)(11,yt,2,1,"p",8)(12,Ct,3,0,"button",9),a()()(),j(13,"router-outlet"),a()),o&2&&(d(7),m("ngIf",r.isAuth.isAuthenticated),d(2),m("ngIf",!r.isAuth.isAuthenticated),d(),m("ngIf",!r.isAuth.isAuthenticated),d(),m("ngIf",r.isAuth.isAuthenticated),d(),m("ngIf",r.isAuth.isAuthenticated))},dependencies:[Y,U,q,tt,J,K,it,et,dt,ot,nt],styles:['.main-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding-left:16px;padding-right:16px}@media screen and (min-width: 480px){.main-container[_ngcontent-%COMP%]{width:480px}}@media screen and (min-width: 768px){.main-container[_ngcontent-%COMP%]{width:768px;padding-left:20px;padding-right:20px}}@media screen and (min-width: 1440px){.main-container[_ngcontent-%COMP%]{width:1440px;padding-left:32px;padding-right:32px}}@media screen and (min-width: 1920px){.main-container[_ngcontent-%COMP%]{width:1890px;padding-left:60px;padding-right:60px}}.head_nav[_ngcontent-%COMP%]{background-color:#6200ee;color:#fff;display:flex;justify-content:space-between;align-items:center;position:relative;margin-top:40px;margin-bottom:30px;margin-left:10px;padding:10px 20px 10px 110px;border-radius:5px;transition:backg .3s linear}.head_nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:20px;text-decoration:none}.contact-link[_ngcontent-%COMP%], .auth-link[_ngcontent-%COMP%]{position:relative}.contact-link[_ngcontent-%COMP%]:before, .auth-link[_ngcontent-%COMP%]:before{background:#fff;border-radius:3px;bottom:0;content:"";display:block;height:2px;left:0;opacity:0;position:absolute;right:0;transform:scaleX(.2) translateY(2px) translateZ(0);transition:.3s ease-out}.contact-link[_ngcontent-%COMP%]:hover.contact-link:before, .auth-link[_ngcontent-%COMP%]:hover.auth-link:before{opacity:1;transform:scale(1) translateY(0) translateZ(0)}.active-link.contact-link[_ngcontent-%COMP%]:before, .active-link.auth-link[_ngcontent-%COMP%]:before{opacity:1;transform:scale(1) translateY(0) translateZ(0)}.auth-link[_ngcontent-%COMP%]:nth-last-child(2n){margin-right:20px}.head_nav[_ngcontent-%COMP%]   .logOut-btn[_ngcontent-%COMP%]{background-color:#fff;color:#fff;display:flex;justify-content:center;background-color:transparent;border:none;cursor:pointer;margin-right:-10px}.auth-bnt-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.user-email[_ngcontent-%COMP%]{margin:0 20px 0 0}@media screen and (max-width: 767px){.user-email[_ngcontent-%COMP%]{display:none}}.logOutIcon[_ngcontent-%COMP%]:hover, .logOutIcon[_ngcontent-%COMP%]:focus{transform:scale(1.2)}.homeLink[_ngcontent-%COMP%]{width:100px;height:100px;position:absolute;top:50%;left:40px;transform:translate(-50%,-50%);background-color:#69f0ae}.customIconSize[_ngcontent-%COMP%]{transform:scale(1.7)}']});let i=t;return i})();X(pt,ct).catch(i=>console.error(i));
