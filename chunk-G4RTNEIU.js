import{a as O}from"./chunk-2IB3FQZ5.js";import{a as F,b as u,c as E,d as S,e as k,f as I,g as N,h as T,i as L,j as z,k as G,l as q,m as j,n as R,o as A}from"./chunk-6TTV4DJN.js";import{T as y,i as P}from"./chunk-TKBHC6Y7.js";import"./chunk-WXI33M2S.js";import{m as M,o as v}from"./chunk-GA3PLTZT.js";import{Gb as a,Lb as b,Za as m,_a as f,ea as w,ha as C,hb as g,jb as r,ob as t,pb as e,qb as x,vb as _,wb as h}from"./chunk-GBCURD4M.js";function B(n,o){n&1&&(t(0,"span"),a(1,"field is required"),e())}function D(n,o){n&1&&(t(0,"span"),a(1,"invalid email"),e())}function U(n,o){if(n&1&&(t(0,"span"),g(1,B,2,0,"span",8)(2,D,2,0,"span",8),e()),n&2){let c=h(),l,p;m(),r("ngIf",(l=c.loginForm.get("email"))==null?null:l.hasError("required")),m(),r("ngIf",(p=c.loginForm.get("email"))==null?null:p.hasError("pattern"))}}function V(n,o){n&1&&(t(0,"span"),a(1,"field is required"),e())}function H(n,o){n&1&&(t(0,"span"),a(1,"Password must be at least 7 characters"),e())}function $(n,o){if(n&1&&(t(0,"span"),g(1,V,2,0,"span",8)(2,H,2,0,"span",8),e()),n&2){let c=h(),l,p;m(),r("ngIf",(l=c.loginForm.get("password"))==null?null:l.hasError("required")),m(),r("ngIf",(p=c.loginForm.get("password"))==null?null:p.hasError("minlength"))}}function J(n,o){n&1&&(t(0,"span",15),a(1,"incorrect login or password"),e())}var sn=(()=>{let o=class o{constructor(l,p){this.fb=l,this.authService=p,this.loginError=!1,this.route=w(P),this._createForm()}_createForm(){this.loginForm=this.fb.group({email:["",[u.required,u.pattern(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/)]],password:["",[u.required,u.minLength(7)]]})}onSubmit(){}handleNavToRegister(){this.route.navigateByUrl("/register")}submitApplication(){console.log(this.loginForm.value.email),console.log(this.loginForm.value.password),this.authService.login({email:this.loginForm.value.email,password:this.loginForm.value.password}).subscribe({next:l=>{this.loginError=!1,this.route.navigateByUrl("/contacts")},error:l=>{console.log(l),this.loginError=!0}})}};o.\u0275fac=function(p){return new(p||o)(f(T),f(O))},o.\u0275cmp=C({type:o,selectors:[["app-login"]],standalone:!0,features:[b],decls:29,vars:8,consts:[[1,"login-section",3,"formGroup"],[1,"from-container"],["novalidate","",1,"auth-form",3,"formGroup","submit"],[1,"login-form-title"],[1,"input-wrappet"],["appearance","outline",1,"small",2,"width","100%",3,"color"],["matInput","","type","email","matInput","","formControlName","email","formControlName","email"],[1,"form-error-msg"],[4,"ngIf"],["appearance","outline",1,"example-full-width",2,"width","100%",3,"color"],["type","password","matInput","","formControlName","password","formControlName","password"],["class","login-error",4,"ngIf"],["type","submit",1,"sign-in-btn",3,"disabled"],[1,"login-to-register-link-wrapper"],[1,"link-to-sign-up",3,"click"],[1,"login-error"]],template:function(p,i){if(p&1&&(t(0,"div",0)(1,"div",1)(2,"form",2),_("submit",function(){return i.submitApplication()}),t(3,"h2",3),a(4,"Sign in"),e(),t(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),a(8,"Email"),e(),x(9,"input",6),e(),t(10,"span",7),g(11,U,3,2,"span",8),e()(),t(12,"div",4)(13,"mat-form-field",9)(14,"mat-label"),a(15,"Password"),e(),x(16,"input",10),e(),t(17,"span",7),g(18,$,3,2,"span",8),e()(),g(19,J,2,0,"span",11),t(20,"button",12),a(21,"SIGN IN"),e()(),t(22,"div",13)(23,"h2"),a(24,"Hello, Friend!"),e(),t(25,"p"),a(26,"Register with your personal details to use phonebook"),e(),t(27,"a",14),_("click",function(){return i.handleNavToRegister()}),a(28,"SIGN UP"),e()()()()),p&2){let s,d;r("formGroup",i.loginForm),m(2),r("formGroup",i.loginForm),m(4),r("color",i.loginForm.invalid?"primary":"warn"),m(5),r("ngIf",((s=i.loginForm.get("email"))==null?null:s.invalid)&&(((s=i.loginForm.get("email"))==null?null:s.touched)||((s=i.loginForm.get("email"))==null?null:s.dirty))),m(2),r("color",i.loginForm.invalid?"primary":"warn"),m(5),r("ngIf",((d=i.loginForm.get("password"))==null?null:d.invalid)&&((d=i.loginForm.get("password"))==null?null:d.touched)||((d=i.loginForm.get("password"))==null?null:d.dirty)),m(),r("ngIf",i.loginError),m(),r("disabled",i.loginForm.invalid)}},dependencies:[L,k,F,E,S,z,I,N,v,M,A,R,q,G,j,y],styles:["*[_ngcontent-%COMP%]{transition:backg .3s linear}h2[_ngcontent-%COMP%]{font-weight:800}@media screen and (min-width: 768px){h2[_ngcontent-%COMP%]{font-size:30px;margin-bottom:30px}}@media screen and (min-width: 1440px){h2[_ngcontent-%COMP%]{font-size:36px;margin-bottom:40px}}.login-section[_ngcontent-%COMP%]{padding-top:60px}@media screen and (max-width: 768px){.login-section[_ngcontent-%COMP%]{padding:30px 0}}.from-container[_ngcontent-%COMP%]{color:#fff;box-shadow:#0003 0 3px 5px -1px,#00000024 0 6px 10px,#0000001f 0 1px 18px;margin:0 auto;overflow:hidden}@media screen and (max-width: 768px){.from-container[_ngcontent-%COMP%]{border-radius:20px}}@media screen and (min-width: 768px){.from-container[_ngcontent-%COMP%]{width:500px;display:flex;justify-content:center;border-radius:30px}}@media screen and (min-width: 1440px){.from-container[_ngcontent-%COMP%]{width:800px;border-radius:40px}}.auth-form[_ngcontent-%COMP%]{position:relative}@media screen and (max-width: 768px){.auth-form[_ngcontent-%COMP%]{padding:20px 16px 40px}}@media screen and (min-width: 768px){.auth-form[_ngcontent-%COMP%]{padding:40px 15px;width:50%}}@media screen and (min-width: 1440px){.auth-form[_ngcontent-%COMP%]{padding:80px 30px}}.login-form-title[_ngcontent-%COMP%]{color:#000}.sign-in-btn[_ngcontent-%COMP%], .link-to-sign-up[_ngcontent-%COMP%]{background-color:#6200ee;border:none;border-radius:5px;box-shadow:#0003 0 3px 5px -1px,#00000024 0 6px 10px,#0000001f 0 1px 18px;color:#fff}@media screen and (max-width: 768px){.sign-in-btn[_ngcontent-%COMP%], .link-to-sign-up[_ngcontent-%COMP%]{padding:10px 60px;font-size:16px;line-height:normal}}@media screen and (min-width: 768px){.sign-in-btn[_ngcontent-%COMP%], .link-to-sign-up[_ngcontent-%COMP%]{padding:5px 30px;font-size:12px;line-height:1.2}}@media screen and (min-width: 1440px){.sign-in-btn[_ngcontent-%COMP%], .link-to-sign-up[_ngcontent-%COMP%]{padding:10px 60px;font-size:16px;line-height:normal}}.sign-in-btn[_ngcontent-%COMP%]:disabled{background-color:gray}.sign-in-btn[_ngcontent-%COMP%]:hover, .link-to-sign-up[_ngcontent-%COMP%]:hover{opacity:.7}.login-to-register-link-wrapper[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center;background-color:#6200ee}@media screen and (max-width: 768px){.login-to-register-link-wrapper[_ngcontent-%COMP%]{padding:30px 20px}}@media screen and (min-width: 768px){.login-to-register-link-wrapper[_ngcontent-%COMP%]{padding:30px 5px;border-top-left-radius:100px;border-bottom-left-radius:70px}}@media screen and (min-width: 1440px){.login-to-register-link-wrapper[_ngcontent-%COMP%]{padding:60px 30px;font-size:16px;border-top-left-radius:140px;border-bottom-left-radius:100px}}.login-to-register-link-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.link-to-sign-up[_ngcontent-%COMP%]{width:fit-content;margin:20px auto 0;display:inline;box-shadow:none;border:1px white solid}.login-error[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:5px;width:max-content;transform:translate(-50%,-50%);display:block;color:red;font-size:16px}@media screen and (min-width: 768px){.login-error[_ngcontent-%COMP%]{left:15%;transform:none;font-size:14px;bottom:15px}}@media screen and (min-width: 1440px){.login-error[_ngcontent-%COMP%]{left:25%;font-size:16px;bottom:30px}}@media screen and (min-width: 1440px){.fiedlInput[_ngcontent-%COMP%]{transform:none}}"]});let n=o;return n})();export{sn as LoginComponent};
